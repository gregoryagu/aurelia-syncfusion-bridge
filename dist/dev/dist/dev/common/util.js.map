{"version":3,"sources":["common/util.js"],"names":["constants","Util","getBindablePropertyName","propertyName","name","bindablePrefix","_unhyphenate","replace","g","toUpperCase","getOptions","model","properties","bindableproperites","value","prop","abbrevProperties","hasOwnProperty","some","property","hasValue","processData","getControlPropertyName","options","props","undefined","controlProperties"],"mappings":";;;;;;;;;;;;;;;AAAQA,e,cAAAA,S;;;sBAEKC,I;;;;;uBAEXC,uB,oCAAwBC,Y,EAA8B;AACpD,cAAIC,YAAUJ,UAAUK,cAApB,GAAqCF,YAAzC;AACA,iBAAO,KAAKG,YAAL,CAAkBF,IAAlB,CAAP;AACD,S;;uBAEDE,Y,yBAAaF,I,EAAsB;AACjC,iBAAOA,KAAKG,OAAL,CAAa,WAAb,EAA0B,UAACC,CAAD;AAAA,mBAAOA,EAAE,CAAF,EAAKC,WAAL,EAAP;AAAA,WAA1B,CAAP;AACD,S;;uBAEDC,U,uBAAWC,K,EAAOC,U,EAAa;AAAA;;AAC7B,cAAIC,qBAAqB,EAAzB;AACA,cAAIC,cAAJ;AACA,+BAAiBF,UAAjB,kHAA6B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,gBAApBG,IAAoB;;AAC3B,gBAAIJ,MAAMK,gBAAN,IAA0BD,QAAQJ,MAAMK,gBAAxC,IAA4DL,MAAMK,gBAAN,CAAuBC,cAAvB,CAAsCF,IAAtC,CAAhE,EAA6G;AAC3GJ,oBAAMK,gBAAN,CAAuBD,IAAvB,EAA6BG,IAA7B,CAAkC,oBAAY;AAC5CJ,wBAAQH,MAAM,MAAKT,uBAAL,CAA6BiB,QAA7B,CAAN,CAAR;AACA,uBAAO,MAAKC,QAAL,CAAcN,KAAd,CAAP;AACD,eAHD;AAID,aALD,MAKO;AACLA,sBAAQH,MAAM,KAAKT,uBAAL,CAA6Ba,IAA7B,CAAN,CAAR;AACD;AACD,gBAAI,KAAKK,QAAL,CAAcN,KAAd,CAAJ,EAA0B;AACxB,kBAAI,OAAOA,KAAP,KAAiB,QAArB,EAAgC;AAC9BA,wBAAQ,KAAKO,WAAL,CAAiBP,KAAjB,CAAR;AACD;AACDD,iCAAmBE,IAAnB,IAA2BD,KAA3B;AACD;AACF;AACD,iBAAOD,kBAAP;AACD,S;;uBAEDS,sB,mCAAuBC,O,EAASpB,Y,EAAc;AAAA;;AAC5C,cAAIgB,iBAAJ;;AAD4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,gBAEnCJ,IAFmC;;AAG1C,gBAAIQ,QAAQP,gBAAR,IAA4BD,QAAQQ,QAAQP,gBAA5C,IAAgEO,QAAQP,gBAAR,CAAyBC,cAAzB,CAAwCF,IAAxC,CAApE,EAAmH;AACjHQ,sBAAQP,gBAAR,CAAyBD,IAAzB,EAA+BG,IAA/B,CAAoC,iBAAS;AAC3CC,2BAAWhB,iBAAiB,OAAKD,uBAAL,CAA6BsB,KAA7B,CAAjB,GAAuDT,IAAvD,GAA8DU,SAAzE;AACA,uBAAON,QAAP;AACD,eAHD;AAIA,kBAAIA,QAAJ,EAAc;AACf,aAND,MAMO,IAAIhB,iBAAiB,OAAKD,uBAAL,CAA6Ba,IAA7B,CAArB,EAAyD;AAC9DI,yBAAWJ,IAAX;AACA;AACD;AAZyC;;AAE5C,gCAAiBQ,QAAQG,iBAAzB,yHAA4C;AAAA;;AAAA;;AAAA,kCASxC;AAEH;AACD,iBAAOP,QAAP;AACD,S;;uBAEDC,Q,qBAASL,I,EAAM;AACb,iBAAO,OAAQA,IAAR,KAAkB,WAAlB,IAAiCA,SAAS,IAAjD;AACD,S;;uBAEDM,W,wBAAYP,K,EAAO;AACjB,cAAIA,UAAU,MAAd,EAAsB;AACpB,mBAAO,IAAP;AACD,WAFD,MAEO,IAAIA,UAAU,OAAd,EAAuB;AAC5B,mBAAO,KAAP;AACD,WAFM,MAEA,IAAI,CAACA,KAAD,GAAS,EAAT,KAAgBA,KAApB,EAA2B;AAChC,mBAAO,CAACA,KAAR;AACD;AACD,iBAAOA,KAAP;AACD,S","file":"../../../common/util.js","sourcesContent":["import {constants} from './constants';\r\n\r\nexport class Util {\r\n\r\n  getBindablePropertyName(propertyName: string): string {\r\n    let name = `${constants.bindablePrefix}${propertyName}`;\r\n    return this._unhyphenate(name);\r\n  }\r\n\r\n  _unhyphenate(name: string): string {\r\n    return name.replace(/-([a-z])/g, (g) => g[1].toUpperCase());\r\n  }\r\n\r\n  getOptions(model, properties ) {\r\n    let bindableproperites = {};\r\n    let value;\r\n    for (let prop of properties) {\r\n      if (model.abbrevProperties && prop in model.abbrevProperties && model.abbrevProperties.hasOwnProperty(prop)) {\r\n        model.abbrevProperties[prop].some(property => {\r\n          value = model[this.getBindablePropertyName(property)];\r\n          return this.hasValue(value);\r\n        });\r\n      } else {\r\n        value = model[this.getBindablePropertyName(prop)];\r\n      }\r\n      if (this.hasValue(value)) {\r\n        if (typeof value === 'string' ) {\r\n          value = this.processData(value);\r\n        }\r\n        bindableproperites[prop] = value;\r\n      }\r\n    }\r\n    return bindableproperites;\r\n  }\r\n\r\n  getControlPropertyName(options, propertyName) {\r\n    let property;\r\n    for (let prop of options.controlProperties) {\r\n      if (options.abbrevProperties && prop in options.abbrevProperties && options.abbrevProperties.hasOwnProperty(prop)) {\r\n        options.abbrevProperties[prop].some(props => {\r\n          property = propertyName === this.getBindablePropertyName(props) ? prop : undefined;\r\n          return property;\r\n        });\r\n        if (property) break;\r\n      } else if (propertyName === this.getBindablePropertyName(prop)) {\r\n        property = prop;\r\n        break;\r\n      }\r\n    }\r\n    return property;\r\n  }\r\n\r\n  hasValue(prop) {\r\n    return typeof (prop) !== 'undefined' && prop !== null;\r\n  }\r\n\r\n  processData(value) {\r\n    if (value === 'true') {\r\n      return true;\r\n    } else if (value === 'false') {\r\n      return false;\r\n    } else if (+value + '' === value) {\r\n      return +value;\r\n    }\r\n    return value;\r\n  }\r\n}\r\n"]}